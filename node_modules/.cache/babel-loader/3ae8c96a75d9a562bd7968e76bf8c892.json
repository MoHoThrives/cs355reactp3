{"ast":null,"code":"import _defineProperty from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{useState,useEffect}from'react';export var usePosition=function usePosition(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var onChange=function onChange(_ref){var coords=_ref.coords;setPosition({latitude:coords.latitude,longitude:coords.longitude});};var onError=function onError(error){setError(error.message);};useEffect(function(){var geo=navigator.geolocation;if(!geo){setError('Geolocation is not supported');return;}var watcher=geo.watchPosition(onChange,onError);return function(){return geo.clearWatch(watcher);};},[]);return _objectSpread({},position,{error:error});};","map":{"version":3,"sources":["/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/src/components/usePosition.js"],"names":["useState","useEffect","usePosition","position","setPosition","error","setError","onChange","coords","latitude","longitude","onError","message","geo","navigator","geolocation","watcher","watchPosition","clearWatch"],"mappings":"siCAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACGF,QAAQ,CAAC,EAAD,CADX,wCACtBG,QADsB,eACZC,WADY,8BAEHJ,QAAQ,CAAC,IAAD,CAFL,yCAEtBK,KAFsB,eAEfC,QAFe,eAI7B,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAc,IAAZC,CAAAA,MAAY,MAAZA,MAAY,CAC3BJ,WAAW,CAAC,CACRK,QAAQ,CAAED,MAAM,CAACC,QADT,CAERC,SAAS,CAAEF,MAAM,CAACE,SAFV,CAAD,CAAX,CAIH,CALD,CAMA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACN,KAAD,CAAW,CACvBC,QAAQ,CAACD,KAAK,CAACO,OAAP,CAAR,CACH,CAFD,CAGAX,SAAS,CAAC,UAAM,CACZ,GAAMY,CAAAA,GAAG,CAAGC,SAAS,CAACC,WAAtB,CACA,GAAI,CAACF,GAAL,CAAU,CACNP,QAAQ,CAAC,8BAAD,CAAR,CACA,OACH,CACD,GAAIU,CAAAA,OAAO,CAAGH,GAAG,CAACI,aAAJ,CAAkBV,QAAlB,CAA4BI,OAA5B,CAAd,CACA,MAAO,kBAAME,CAAAA,GAAG,CAACK,UAAJ,CAAeF,OAAf,CAAN,EAAP,CACH,CARQ,CAQN,EARM,CAAT,CASA,wBAAWb,QAAX,EAAqBE,KAAK,CAALA,KAArB,GACH,CAvBM","sourcesContent":["import {useState, useEffect} from 'react';\nexport const usePosition = () => {\n    const [position, setPosition] = useState({});\n    const [error, setError] = useState(null);\n\n    const onChange = ({coords}) => {\n        setPosition({\n            latitude: coords.latitude,\n            longitude: coords.longitude,\n        });\n    };\n    const onError = (error) => {\n        setError(error.message);\n    };\n    useEffect(() => {\n        const geo = navigator.geolocation;\n        if (!geo) {\n            setError('Geolocation is not supported');\n            return;\n        }\n        let watcher = geo.watchPosition(onChange, onError);\n        return () => geo.clearWatch(watcher);\n    }, []);\n    return {...position, error};\n}"]},"metadata":{},"sourceType":"module"}