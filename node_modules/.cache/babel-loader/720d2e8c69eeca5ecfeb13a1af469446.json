{"ast":null,"code":"import _toConsumableArray from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';// import '../App.css';\nimport'./Components.css';import Download from\"./Download\";import{Button,Form,FormControl}from\"react-bootstrap\";var API_KEY=\"AIzaSyDzFrh_sw6E2iClTjBjWCGLApEW_d9xXZU\";var SearchGoogle=/*#__PURE__*/function(_Component){_inherits(SearchGoogle,_Component);function SearchGoogle(props){var _this;_classCallCheck(this,SearchGoogle);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchGoogle).call(this,props));_this.search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var userInput,req,data,temp,final,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();userInput=e.target.elements.userInput.value;if(!userInput){_context.next=14;break;}_context.next=5;return fetch(\"https://www.googleapis.com/customsearch/v1?key=\".concat(API_KEY,\"&cx=010154474853921520295:rr3dcyakuje&q=\").concat(userInput));case 5:req=_context.sent;_context.next=8;return req.json();case 8:data=_context.sent;temp=data.items;// temp.forEach(function (object) {\n//     object.isChecked = false;\n// });\nfinal=[];for(i=0;i<temp.length;i++){final.push({title:temp[i].title,url:temp[i].link,description:temp[i].snippet,isChecked:false});}_this.setState({data:final// checked: Array(data.items.length).fill(false),\n});console.log(final);// console.log(this.state.data);\n// console.log(this.state.checked);\ncase 14:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.delete=function(event){var index=event.target.dataset.index;_this.setState(function(state){//make a copy of the data in the state.\nvar data=_toConsumableArray(state.data);data.splice(index,1);return{data:data};});};_this.checkBox=function(event){var index=event.target.dataset.index;_this.setState(function(state){var data=_toConsumableArray(state.data);var object=state.data[index];object.isChecked=!object.isChecked;data.splice(index,1,object);return{data:data};});console.log(_this.state.data);// this.setState({\n//     data\n// })\n};_this.state={data:[]};return _this;}_createClass(SearchGoogle,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"level1\"},React.createElement(\"h2\",null,\"Google Custom Search API\"),React.createElement(Form,{className:\"search\",onSubmit:this.search},React.createElement(FormControl,{className:\"mr-sm-1 searchBar\",type:\"text\",placeholder:\"Google\",name:\"userInput\"}),React.createElement(Button,{id:\"searchBtn\",variant:\"btn btn-light purple-btn\",type:\"submit\"},\"Search\")),React.createElement(Download,{data:this.state.data}),React.createElement(\"div\",{className:\"container\"},this.state.data.map(function(data,i){return React.createElement(\"div\",{key:i,className:\"row\"},React.createElement(\"div\",{className:\"col-sm-2\"}),React.createElement(\"div\",{className:\"col-sm-8\"},React.createElement(\"div\",{className:\"box\"},React.createElement(\"input\",{\"data-index\":i,className:\"checkbox\",type:\"checkbox\",name:\"check\",onChange:_this2.checkBox}),React.createElement(\"h4\",null,data.title),React.createElement(\"h5\",null,React.createElement(\"a\",{href:data.url},data.url)),React.createElement(\"h5\",null,data.description))));})));}}]);return SearchGoogle;}(Component);export default SearchGoogle;","map":{"version":3,"sources":["/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/src/components/SearchGoogle.js"],"names":["React","Component","Download","Button","Form","FormControl","API_KEY","SearchGoogle","props","search","e","preventDefault","userInput","target","elements","value","fetch","req","json","data","temp","items","final","i","length","push","title","url","link","description","snippet","isChecked","setState","console","log","delete","event","index","dataset","state","splice","checkBox","object","map"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n// import '../App.css';\nimport './Components.css';\nimport Download from \"./Download\";\nimport {Button, Form, FormControl} from \"react-bootstrap\";\n\nconst API_KEY = \"AIzaSyDzFrh_sw6E2iClTjBjWCGLApEW_d9xXZU\";\n\nclass SearchGoogle extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            data: [],\n        }\n    }\n\n    search = async (e) => {\n        e.preventDefault();\n        const userInput = e.target.elements.userInput.value;\n        if(userInput){\n            const req = await fetch(`https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=010154474853921520295:rr3dcyakuje&q=${userInput}`)\n            // const data = await req.json();\n            const data = await req.json();\n            const temp = data.items;\n\n            // temp.forEach(function (object) {\n            //     object.isChecked = false;\n            // });\n\n            let final = [];\n            for (let i = 0; i<temp.length; i++){\n                final.push({\n                    title: temp[i].title,\n                    url:temp[i].link,\n                    description:temp[i].snippet,\n                    isChecked: false,\n                });\n            }\n\n            this.setState({\n                data: final,\n                // checked: Array(data.items.length).fill(false),\n            })\n\n            console.log(final);\n            // console.log(this.state.data);\n            // console.log(this.state.checked);\n        }\n    }\n\n    delete = (event) => {\n        const index = event.target.dataset.index;\n        this.setState(state => {\n            //make a copy of the data in the state.\n            const data = [...state.data]\n            data.splice(index, 1);\n            return{\n                data: data\n            }\n        })\n    }\n\n    // a controlled form handles all form changes via state, which is a very React way of doing things.\n    checkBox = (event) => {\n\n        const index = event.target.dataset.index;\n\n        this.setState(state => {\n            const data = [...state.data];\n            const object = state.data[index];\n            object.isChecked = !object.isChecked;\n            data.splice(index, 1, object);\n            return {\n                data\n            }\n        })\n\n        console.log(this.state.data);\n        // this.setState({\n        //     data\n        // })\n    }\n\n    render() {\n        return (\n            <div className=\"level1\">\n\n                <h2>Google Custom Search API</h2>\n                {/*<h3 id=\"searchRes\">You have {this.state.data.length} search results.</h3>*/}\n\n                {/*<form inline className=\"search\" onSubmit={this.search}>*/}\n                {/*    <input className=\"form-control\" type=\"text\" placeholder=\"Google\" name=\"userInput\" />*/}\n                {/*    <button className=\"btn btn-light\" type=\"submit\"> Search </button>*/}\n                {/*</form>*/}\n\n                <Form className=\"search\" onSubmit={this.search}>\n                    <FormControl className=\"mr-sm-1 searchBar\" type=\"text\" placeholder=\"Google\" name=\"userInput\"/>\n                    <Button id=\"searchBtn\" variant=\"btn btn-light purple-btn\" type=\"submit\">Search</Button>\n                </Form>\n                {/*<form className=\"search\" onSubmit={this.search}>*/}\n                {/*    <input className=\"mr-sm-2 searchBar\" type=\"text\" placeholder=\"Google\" name=\"userInput\"/>*/}\n                {/*    <Button variant=\"btn-light purple-btn\" type=\"submit\">Search</Button>*/}\n                {/*</form>*/}\n\n                {/*passing data as a property to child class*/}\n                <Download data={this.state.data} />\n\n                <div className=\"container\">\n                        {this.state.data.map((data, i) => {\n                            return (\n                                <div key={i} className=\"row\">\n                                    <div className=\"col-sm-2\"></div>\n                                    <div className=\"col-sm-8\">\n                                        <div className=\"box\">\n                                            <input data-index={i} className=\"checkbox\" type=\"checkbox\" name=\"check\" onChange={this.checkBox}/>\n                                            {/*<button className=\"btn btn-outline-primary\" data-index={i} onClick={this.delete}> Delete </button>*/}\n                                            <h4>{data.title}</h4>\n                                            <h5><a href={data.url}>{data.url}</a></h5>\n                                            <h5>{data.description}</h5>\n                                        </div>\n                                    </div>\n                                </div>\n                            )})}\n\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default SearchGoogle;"]},"metadata":{},"sourceType":"module"}